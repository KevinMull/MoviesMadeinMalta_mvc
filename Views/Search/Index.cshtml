@model MaltaMoviesMVCcore.Models.Movie

@{
    ViewData["Title"] = "Movies";
}


<br /><br /><br />


<div>
    @Html.LabelFor(model => model.Title, htmlAttributes: new { @class = "control-label col-md-2" })
    <div>
        @*@Html.TextBoxFor(model => model.Title, htmlAttributes: new { @class = "form-control" })*@
        @Html.TextBoxFor(model => model.Title)
    </div>
</div>
@section scripts{


    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script>
        $(document).ready(function () {
            $("#Title").autocomplete({
                minLength:3,
                source: function (request, response) {
                    $.ajax({
                        url: "/Search/SearchMovie",
                        type: "POST",
                        dataType: "json",
                        data: { Prefix: request.term },
                        success: function (data) {
                            response($.map(data, function (item) {
                                return { label: item.Title, value: item.Title };
                            }))

                        }
                    })
                },
                messages: {
                    noResults: "",
                    results: function (count) {
                        return count + (count > 1 ? ' results' : ' result ') + ' found';
                    }
                }
            });
        })
    </script>

}
