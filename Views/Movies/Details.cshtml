@model MaltaMoviesMVCcore.Models.Movie


@{ ViewData["Title"] = @Model.Title;

    var strWidth = "310px"; //widesdcreen default (2.35 = 354px, 1.85= 276px)
    var strHeight = "190px";
    if (Model.Widescreen == false)
    {

        strWidth = "220px";
        strHeight = "190px";
    }

}

<div class="jumbotron">
    <div class="container-fluid">
        <h2>@Model.ToString()</h2>
        <img src="@($"/images/titles/{@Model.TitleId}.jpg")" class="img-responsive pull-left" style="margin-right:6px;margin-bottom:6px" alt="@Model.Title" title="@Model.Title" />
        <div>@Html.DisplayFor(model => model.Summary)</div>
    </div>
</div>

@*Start thumbnails / carousel*@

@{if (Model.Scenes.Count() > 0)
    {
        int x = 0;
        <h2 class="movie-scenes">Scene Locations</h2>
        <div class="jumbotron">
            <div class="container-fluid">

                @*<ul class="list-inline">*@
                @foreach (MaltaMoviesMVCcore.Models.Scene item in ViewBag.Scenes)
                {
                    <div data-toggle="modal" data-target="#myModal" style=" margin:5px; float:left; height:@strHeight; width:@strWidth;  word-wrap:break-word;">


                        @*<li data-toggle="modal" data-target="#myModal">*@
                        <figure>
                            <a href="#myGallery" data-slide-to="@(x)">
                                <img class="img-thumbnail"
                                     alt="@item.LocationSite.LocationPlaceAndSiteName"
                                     title="@item.LocationSite.LocationPlaceAndSiteName"
                                     src="@($"/images/scenes/thumbs/{item.SceneId}.jpg")">
                                <br />
                            </a>
                            <figcaption>@item.LocationSite.LocationPlaceAndSiteName</figcaption>
                        </figure>



                    </div>

                    @*</li>*@

                    {
                        x++;
                    }

                }

                @*</ul>*@

            </div>
        </div>
        <!--begin modal window-->
        <div class="modal fade" id="myModal" aria-hidden="true">
            <div class="modal-dialog-centered">
                <div class="modal-content" style="width:auto">
                    <div class="modal-header" hidden="hidden">
                        @*<div class="pull-left">My Gallery Title</div>*@
                        @*<button type="button" class="close" data-dismiss="modal" title="Close"> <span class="glyphicon glyphicon-remove"></span></button>*@
                    </div>
                    <div class="modal-body">
                        <!--CAROUSEL CODE GOES HERE-->
                        <!--begin carousel-->
                        <div id="myGallery" class="carousel slide" data-interval="false">
                            <div class="carousel-inner">
                                @foreach (MaltaMoviesMVCcore.Models.Scene item in ViewBag.Scenes)
                                {
                                    <div class="@(item == Model.Scenes.First() ? "item active" : "item")">
                                        <img src="@($"/images/scenes/large/{item.SceneId}.jpg")"
                                             alt="@item.LocationSite.LocationPlaceAndSiteName"
                                             title="@item.LocationSite.LocationPlaceAndSiteName">
                                        @*<div class="carousel-caption">

                                            </div>*@
                                        <div class="modal-header">
                                            <strong>Title:</strong> '@item.Movie.Title' -  <strong>Location:</strong> @item.LocationSite.LocationPlaceAndSiteName - @item.Notes
                                        </div>
                                    </div>
                                }

                                <!--end carousel-inner-->
                            </div>

                            <!--Begin Previous and Next buttons-->
                            <a class="left carousel-control"
                               href="#myGallery" role="button"
                               data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a>
                            <a class="right carousel-control" href="#myGallery" role="button" data-slide="next">
                                <span class="glyphicon glyphicon-chevron-right"></span>
                            </a>
                            <!--end carousel-->
                            <!--end modal-body-->

                        </div>
                        <div class="modal-footer">
                            <button class="btn-sm close" type="button" data-dismiss="modal">Close</button>
                            <!--end modal-footer-->
                        </div>
                        <!--end modal-content-->
                    </div>
                    <!--end modal-dialoge-->
                </div>
                <!--end myModal-->
            </div>
        </div>


    }




}

<a asp-action="Index">Back to Movie List</a>


